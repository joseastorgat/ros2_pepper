#!/bin/bash
set -euf -o pipefail
mkdir -p /home/nao/ros_dependencies_sources/build/pcl
cd /home/nao/ros_dependencies_sources/build/pcl
cmake \
  -DCMAKE_INSTALL_PREFIX=/home/nao/${INSTALL_ROOT}/ros_dependencies \
  -DCMAKE_BUILD_TYPE=Release \
  -DCMAKE_TOOLCHAIN_FILE=/home/nao/${INSTALL_ROOT}/ros/ros_catkin_ws/ctc-cmake-toolchain.cmake \
  -DALDE_CTC_CROSS=/home/nao/ctc \
  -DCMAKE_FIND_ROOT_PATH="/home/nao/${INSTALL_ROOT}/ros_dependencies;/home/nao/ctc" \
  -DBUILD_SHARED_LIBS=ON \
  -DWITH_VTK=OFF \
  -DWITH_QT=OFF \
  -DWITH_OPENGL=OFF \
  -DBUILD_segmentation=ON \
  -DBUILD_surface=ON \
  -DQHULL_USE_STATIC=OFF \
  -DQHULL_ROOT=/home/nao/${INSTALL_ROOT}/ros_dependencies/ \
  -DPCL_ENABLE_SSE=OFF \
  -DEIGEN_ROOT=${ALDE_CTC_CROSS}/eigen3 \
  ../../src/pcl
make -j4 install
